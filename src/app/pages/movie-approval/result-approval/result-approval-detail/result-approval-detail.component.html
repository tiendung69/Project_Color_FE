<div style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: -30px;">
    <div style="display: flex; align-items: center; margin-top: 40px; width: 50%; margin-bottom: -30px">
      <div style="border-bottom: 1px solid #000; flex-grow: 1; width: 25%;"></div>
      <div style="flex-grow: 1; text-align: center;">
        <div style="padding: 0 10px; font-size: 25px; font-family: 'Museo Sans Rounded'; font-weight: 900;" class="label-title;">THÔNG TIN CHUNG</div>
      </div>
      <div style="border-bottom: 1px solid #000; flex-grow: 1; width: 25%;"></div>
    </div>
  </div>
  
  
  <label class="label-title" style="margin-top: 25px;">Thông tin duyệt phim</label>
  <div class="d-flex container-collapse" (click)="toggleCollapse()">
    <div class="fa-1x mx-4 my-3">
      <i [className]="isCollapsed ? 'fa fa-plus' : 'fa fa-minus'"></i>
    </div>
    <span class="label-custom">Thông tin duyệt phim</span>
  </div>
  <form [ngbCollapse]="isCollapsed" #form="ngForm">
    <div id="collapseExample">
      <div class="card">
        <div class="card-body">
          <div class="row">
            <div class="form-group col-md-6" style="margin-top: 8px">
              <label class="label-custom">Tên phim*</label>
              <ejs-textbox
                [value]="getName"
                [readonly]="true"
              ></ejs-textbox>
            </div>
  
            <div class="form-group col-md-6" style="margin-top: 8px">
              <label class="label-custom">Nội dung</label>
              <ejs-textbox
                [value]="listMovieApprovalDt.Content"
                placeholder="Nội dung"
                [readonly]="true"
              >
              </ejs-textbox>
            </div>
  
            <div class="form-group col-md-6" style="margin-top: 8px">
              <label class="label-custom">Thời gian bắt đầu duyệt</label>
              <ejs-datepicker
                [value]="listMovieApprovalDt.StartAt"
                placeholder="Thời gian bắt đầu"
                [readonly]="true"
                format="dd/MM/yyyy"
                type="date"
              >
              </ejs-datepicker>
            </div>
  
            <div class="form-group col-md-6" style="margin-top: 8px">
              <label class="label-custom">Thời gian kết thúc duyệt</label>
              <ejs-datepicker
                type="date"
                [readonly]="true"
                [value]="listMovieApprovalDt.EndAt"
                placeholder="Thời gian kết thúc"
                format="dd/MM/yyyy"
              >
              </ejs-datepicker>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>

  
  
  <div  style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: -30px;">
    <div style="display: flex; align-items: center; margin-top: 65px; width: 50%; margin-bottom: -30px">
      <div style="border-bottom: 1px solid #000; flex-grow: 1; width: 25%;"></div>
      <div style="flex-grow: 1; text-align: center;">
        <div style="padding: 0 10px; font-size: 25px; font-family: 'Museo Sans Rounded'; font-weight: 900;" class="label-title;">THÔNG TIN DUYỆT PHIM</div>
      </div>
      <div style="border-bottom: 1px solid #000; flex-grow: 1; width: 25%;"></div>
    </div>
  </div>
  
  <div>
    <label
      *ngIf="idAssigned"
      class="label-title"
      style="width: 100%; margin-top: 25px; margin-bottom: 16px"
      >Phê duyệt phim</label
    >
    <div [ngbCollapse]="idAssigned ? false : true">
      <div class="d-flex container-collapse" (click)="toggleCollapse2()">
        <div class="fa-1x mx-4 my-3">
          <i [className]="isCollapsed2 ? 'fa fa-plus' : 'fa fa-minus'"></i>
        </div>
        <span class="label-custom">Thông tin phê duyệt</span>
      </div>
  
      <div [ngbCollapse]="isCollapsed2" id="collapseExample">
        <div class="card">
          <div class="card-body">
            <form>
              <div class="row" *ngIf="aprovedTimes > 0">
                <!-- <div class="form-group col-3">
                  <label class="label-custom" for="Name">Người duyệt: </label>
                  <span>
                    {{ handleRenderMember(approvedDetail.ProcessedBy) }}</span
                  >
                </div> -->
                <div class="form-group col-4">
                  <label class="label-custom" for="Name">Ngày duyệt: </label>
                  <span *ngIf="approvedDetail.ProcessedAt">
                    {{ handleRenderDate(approvedDetail.ProcessedAt) }}</span
                  >
                </div>
                <div class="form-group col-4">
                  <label class="label-custom" for="Name">Kết quả duyệt: </label>
                  <span> {{ handleRenderResult(approvedDetail.Result) }}</span>
                </div>
                <div class="form-group col-4">
                  <label class="label-custom" for="Name">Lần duyệt: </label>
                  <span> {{ aprovedTimes }}</span>
                </div>
              </div>
              <div class="row">
                <div class="form-group col">
                  <label class="label-custom" for="Name">Nhận xét</label>
                  <app-textarea-input
                    [multiline]="true"
                    key="Comment"
                    [value]="
                      approvedDetail !== undefined ? approvedDetail.Comment : ''
                    "
                    placeHolder="Nhập nhận xét..."
                  ></app-textarea-input>
                </div>
              </div>
              
      
            </form>
        <div #container class="root-container"></div>
      </div>
    </div>
  </div>
  
  <div [ngbCollapse]="idAssigned ? false : true" style="margin-top: 15px">
    <div class="d-flex container-collapse" (click)="toggleCollapse3()">
      <div class="fa-1x mx-4 my-3">
        <i [className]="isCollapsed3 ? 'fa fa-plus' : 'fa fa-minus'"></i>
      </div>
      <span class="label-custom">Lịch sử phê duyệt</span>
    </div>
    <div *ngIf="approvedHistory.length === 0" class="no-approval-history">
      <div [ngbCollapse]="isCollapsed3">
        <div
          class="card"
          style="margin-top: 10px; border: 0px"
          style="height: 57px"
        >
          <div class="card-body">
            <p style="color: red">Chưa có lượt duyệt nào.</p>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="approvedHistory && approvedHistory.length">
      <div *ngFor="let item of approvedHistory; let i = index">
        <div [ngbCollapse]="isCollapsed3">
          <div class="card" style="margin-top:-5px">
            <div class="card-body">
              <form>
                <div class="row" *ngIf="aprovedTimes - i > 0">
                  <div class="form-group col-4">
                    <label class="label-custom" for="Name"
                      >Ngày duyệt:&nbsp;</label
                    >
                    <span *ngIf="item.ProcessedAt">{{
                      handleRenderDate(item.ProcessedAt)
                    }}</span>
                  </div>
                  <div class="form-group col-4">
                    <label class="label-custom" for="Name"
                      >Kết quả duyệt:&nbsp;</label
                    >
                    <span>{{ handleRenderResult(item.Result) }}</span>
                  </div>
                  <div class="form-group col-4">
                    <label class="label-custom" for="Name"
                      >Lần duyệt:&nbsp;</label
                    >
                    <span>{{ aprovedTimes - i }}</span>
                  </div>
                </div>
                <div class="row">
                  <div class="form-group col">
                    <label
                      class="label-custom"
                      for="Name"
                      (click)="toggleCommentVisibility(i)"
                    >
                      <div style="display: flex; align-items: center">
                        <div
                          style="
                            margin-right: 10px;
                            font-size: 23px;
                            margin-top: -6px;
                          "
                        >
                          {{
                            i === selectedCommentIndex && isCommentVisible
                              ? "-"
                              : "+"
                          }}
                        </div>
                        Nhận xét
                      </div>
                    </label>
                  </div>
                </div>
  
                <div
                  class="row"
                  *ngIf="isCommentVisible && i === selectedCommentIndex"
                >
                  <div class="form-group col">
                    <app-textarea-input
                      [multiline]="true"
                      [readonly]="true"
                      [value]="item !== undefined ? item.Comment : ''"
                    ></app-textarea-input>
                  </div>
                </div>
              </form>
            </div>
          </div>
          <div #container class="root-container"></div>
        </div>
      </div>
    </div>
  </div>
  
  
  